import{m as b,ag as x,ci as y,bl as k,bo as t,e as o,bm as s,ch as m,Y as F,bk as S,G as c,f as p,bq as U}from"./index-Dn40pTZI.js";import{p as I,v as B,c as C}from"./utils-DpsbndlF.js";import{s as E,v as V,I as h,t as q,V as N}from"./index-C3Z7m0Sv.js";const D={class:"page-wrap"},L={class:"container"},P={class:"form-wrap"},T={class:"flex f-a-center f-j-end mg-t20"},j=b({__name:"index",setup(G){const n=x({email:"",password:""}),u=y(),_=()=>{m.push("/signup")},f=async l=>{console.log("Success:",l);const{code:e,data:r,msg:a}=await I("/api/v1/user/login",l);e==="00000"?(u.setToken(r.token),u.setUserInfo(r),m.push("/")):E.error(a)},v=l=>{console.log("Failed:",l)};return(l,e)=>{const r=h,a=q,g=N,i=F,w=V;return S(),k("div",D,[t("div",L,[e[6]||(e[6]=t("div",{class:"mg-b10 f20 c-ED6337"},"InvoiceFree",-1)),e[7]||(e[7]=t("div",{class:"mg-b20"},"Login to your account",-1)),t("div",P,[o(w,{layout:"vertical",model:n,name:"basic","label-col":{span:8},"wrapper-col":{span:24},autocomplete:"off",onFinish:f,onFinishFailed:v},{default:s(()=>[o(a,{label:"Email",name:"email",rules:[{required:!0,validator:c(B),trigger:"change"}]},{default:s(()=>[o(r,{placeholder:"name@example.com",value:n.email,"onUpdate:value":e[0]||(e[0]=d=>n.email=d)},null,8,["value"])]),_:1},8,["rules"]),o(a,{label:"Password",name:"password",rules:[{required:!0,validator:c(C),trigger:"change"}]},{default:s(()=>[o(g,{placeholder:"******",value:n.password,"onUpdate:value":e[1]||(e[1]=d=>n.password=d)},null,8,["value"])]),_:1},8,["rules"]),o(a,null,{default:s(()=>[o(i,{type:"primary","html-type":"submit",style:{width:"100%"}},{default:s(()=>e[2]||(e[2]=[p("Login")])),_:1})]),_:1}),o(a,null,{default:s(()=>[o(i,{style:{width:"100%"}},{default:s(()=>e[3]||(e[3]=[p("Cancel")])),_:1})]),_:1})]),_:1},8,["model"])]),t("div",T,[e[5]||(e[5]=t("div",{class:"mg-r10"},"Don't have an account?",-1)),o(i,{onClick:_},{default:s(()=>e[4]||(e[4]=[p("Sign Up")])),_:1})])])])}}}),H=U(j,[["__scopeId","data-v-f96ffc4d"]]);export{H as default};
